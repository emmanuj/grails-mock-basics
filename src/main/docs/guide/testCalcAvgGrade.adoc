Testing the calculation of the average grade is similar, only we will be mocking both `Classroom` and `Student` domain objects with the one-to-many relationship.

Implement the code to test the calculation.

[source, groovy]
.src/test/groovy/grails/mock/basics/ClassroomServiceSpec.groovy
----
include::{sourceDir}/src/test/groovy/grails/mock/basics/ClassroomServiceSpec.groovy[tags=testCalc;mockStudentsInAClassroom]
----

Execute the test command to view the test results.

[source,groovy]
----
grails test-app
----

<1> `Classroom` is saved with several `Students`.
<2> Invoke the method under test, which will use the saved Domain objects.